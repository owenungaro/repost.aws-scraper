{
  "body": "In the guidance on how to create a Transit VIF, it's noted that the customer ASN can be in the range of 1-2147843647.\nhttps://docs.aws.amazon.com/directconnect/latest/UserGuide/create-transit-vif-for-gateway.html\nIn this repost article about setting up Public VIFs\nhttps://repost.aws/knowledge-center/setup-direct-connect-vif\nit's stated as part of the process:\n**Approving prefixes and BGP ASN over public VIF\n**\nWhen you create a public virtual interface, the following information is subject to approval by the Direct Connect team:\nThe BGP Autonomous System Number (only if it's a public ASN)\nDoes this step of validation also occur when creating a Transit VIF BGP neighbor using a Public ASN? It seems like AWS does not validate BGP ASN ownership for Private or Transit VIFs but that is my question.\n\nWhen creating a Transit Virtual Interface (VIF) with a public ASN, AWS does not perform the same validation of ASN ownership that occurs with Public VIFs.\nFor Public Virtual Interfaces, AWS specifically validates ownership of public ASNs. This is because public VIFs connect to the public AWS network and can potentially advertise routes to the internet, so AWS needs to verify that you own the ASN and have the right to announce it.\nFor Transit VIFs, the ASN validation process is different. While you can use ASNs in the range of 1-2147483647 (which includes both public and private ASN ranges), AWS doesn't perform the same ownership verification step that happens with public VIFs.\nHowever, there is an important consideration when using Transit VIFs with Direct Connect gateways and transit gateways: if you associate your transit gateway with one or more Direct Connect gateways, the ASN used by the transit gateway and the Direct Connect gateway must be different. For example, if you use the default ASN 64512 for both, the association request will fail.\nSo while you can use a public ASN for a Transit VIF, AWS doesn't validate your ownership of that ASN in the same way it does for Public VIFs.\nSources\nPublic VIF BGP Peering AS Number at AWS side. | AWS re:Post\nAWS Direct Connect routing policies and BGP communities - AWS Direct Connect\nCreate an AWS Direct Connect hosted transit virtual interface - AWS Direct Connect\n\nASN verification happens for Direct Connect Public VIF, as stated in this\nrePost article\n. This validation does not happen for Private or Transit VIFs, as long as you are using ASN from the range mentioned in the\ndocumentation\nthe VIF should be operational without any additional verification from AWS support."
}