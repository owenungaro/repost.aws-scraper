{
  "body": "In my lambda code I'm getting Calling the invoke API action failed with this message lambda was unable to decrypt the environment variables because KMS access was denied.Please check the functions KMS key settings.\n\nIf you use default AWS-managed key (aws/lambda), you shouldn't have to do anything. If you use a customer managed key, then you will need to update the Lambda's role to allow access to KMS and optionally KMS resource to allow Lambda's IAM role.\n## Lambda IAM\n{\n  \"Effect\": \"Allow\",\n  \"Action\": [\n    \"kms:Decrypt\",\n    \"kms:Encrypt\",\n    \"kms:GenerateDataKey*\",\n    \"kms:DescribeKey\"\n  ],\n  \"Resource\": \"arn:aws:kms:your-region:your-account-id:key/your-kms-key-id\"\n}\n## KMS policy example\n{\n  \"Sid\": \"AllowLambdaUseOfKey\",\n  \"Effect\": \"Allow\",\n  \"Principal\": {\n    \"AWS\": \"arn:aws:iam::<your-account-id>:role/<your-lambda-execution-role-name>\"\n  },\n  \"Action\": [\n    \"kms:Decrypt\",\n    \"kms:Encrypt\",\n    \"kms:GenerateDataKey*\",\n    \"kms:DescribeKey\"\n  ],\n  \"Resource\": \"*\"\n}"
}