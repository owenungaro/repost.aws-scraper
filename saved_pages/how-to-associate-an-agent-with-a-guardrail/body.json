{
  "body": "Hi, I don't see anything in the agent builder interface that allows guardrail specification. How do I link a guardrail to an agent. I also looked in the InvokeAgentCommand api and there is no param to specify the guardrail for the agent.\nAnyone knows how these two are supposed to be associated? I have a functioning agent and created a guardrail and a version for it. How do I now deploy this guardrail?\n\nYou can associate a guardrail with your Amazon Bedrock agent either when creating a new agent or when updating an existing one.\nIn the Amazon Bedrock console:\nNavigate to the Agent builder\nIn the \"Guardrail details\" section, choose \"Edit\"\nSelect your guardrail from the dropdown menu under \"Select guardrail\"\nChoose the version you want to use under \"Guardrail version\"\nYou can select \"View\" to review your Guardrail settings\nSave your changes\nUsing the API, you can associate a guardrail by:\nIncluding a\nguardrailConfiguration\nfield in the body of a CreateAgent or UpdateAgent request\nThe configuration should specify the guardrail identifier and version\nHere's an example of how to associate a guardrail with an agent using the API:\ngconfig = { \n\"guardrailIdentifier\": 'your-guardrail-id',\n\"guardrailVersion\": 'DRAFT'\n}\n\nresponse = bedrock_agent_client.create_agent(\nagentName=agent_name,\nagentResourceRoleArn=agent_role['Role']['Arn'],\nfoundationModel=\"your-chosen-model\",\ninstruction=agent_instruction,\nguardrailConfiguration=gconfig,\n)\nImportant: If you associate a guardrail with your agent, you must also attach an identity-based policy to the agent's service role that includes permissions for the\nbedrock:ApplyGuardrail\naction with the appropriate guardrail resource.\nSources\nImplement safeguards for your application by associating a guardrail with your agent - Amazon Bedrock\nUse guardrails for your use case - Amazon Bedrock\nImprove LLM application robustness with Amazon Bedrock Guardrails and Amazon Bedrock Agents | AWS Machine Learning Blog\nCreate and configure agent manually - Amazon Bedrock\nCreate a service role for Amazon Bedrock Agents - Amazon Bedrock\n\nI can't find the 'guardrail details' section in agent builder. Am i missing something?"
}