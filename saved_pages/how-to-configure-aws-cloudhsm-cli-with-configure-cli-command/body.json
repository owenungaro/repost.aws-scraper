{
  "body": "CloudHSM CLI Configuration\nHow to configure AWS CloudHSM CLI with configure-cli command?\nRunning sudo /opt/cloudhsm/bin/configure-cli -a <my_hsm> errors out.\nWhat pre-requisites or environment variables are required to initialize CloudHSM CLI tools?\n\nhi,\nfor \"sudo /opt/cloudhsm/bin/configure-cli -a <my_hsm>\"\nYou use the private IP address (ENI) of one HSM in the cluster.\nThe configure-cli tool uses that one ENI IP to connect to the specified HSM, and then automatically discovers other HSMs in the cluster and updates the client configuration.\nScenario:\nEC2 instance private IP: 10.0.0.123\nHSM ENI (private IP): 10.10.10.232\nsudo /opt/cloudhsm/bin/configure-cli -a 10.10.10.232\nhttps://docs.aws.amazon.com/cloudhsm/latest/userguide/gs_cloudhsm_cli-install.html\nPre-requisites: -\nBoth are in same VPC.\nEnsure routing tables allow traffic between 10.0.0.123 and 10.10.10.232\nSecurity groups and network ACLs allow traffic between 10.0.0.123\nSecurity Groups / NACLs:\nAllow inbound and outbound traffic on port 2223 (used by CloudHSM)\nIAM permissions\nCloudHSM Client Installed\nhttps://docs.aws.amazon.com/cloudhsm/latest/userguide/configure-sg-client-instance.html\nOnce's the CloudHSM clients installed environment variable :\nhttps://docs.aws.amazon.com/cloudhsm/latest/userguide/command-line-tools.html\nBest"
}