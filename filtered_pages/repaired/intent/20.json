Config of Redshift Cluster:




Enhanced VPC routing has enabled


Redshift subnet in the same subnet as S3 vpc endpoint




Config of S3




VPC endpoints created for S3


Routing has configured to route traffic to the S3 vpc endpoints




My S3 policy:


    



With this configuration Redshift Specturum cant accesss external tables


So my goal here. To restrict access to the S3 from outside but also give access to Redshift Spectrum to work with S3.


From the documentation I see that:

Redshift Spectrum on provisioned clusters can't access data stored in Amazon S3 buckets that use a bucket policy that restricts access to only specified VPC endpoints.


Any ideas how I can achieve this ?